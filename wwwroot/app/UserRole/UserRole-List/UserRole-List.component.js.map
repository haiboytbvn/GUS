{"version":3,"sources":["UserRole/UserRole-List/UserRole-List.component.ts"],"names":["UserRoleListComponent","userRoleService","router","authService","this","title","toggle","isDelete","isLoading","prototype","ngOnInit","_this","isLoggedIn","navigate","getUserRoleList","subscribe","items","userRoles","error","errorMessage","ngAfterViewInit","jQuery","actionDiv","nativeElement","hide","errorDiv","onSelect","data","selectedData","Id","addNewUserRole","onDelete","filter","checked","forEach","delete","setTimeout","showActionDiv","status","width","show","direction","deleteConfirm","close","toggleItem","every","length","toggleAll","displayMessage","message","removeClass","innerHTML","addClass","slideDown","delay","slideUp","__decorate","core_1","ViewChild","Component","selector","template","providers","userRole_service_1","UserRoleService","exports_1"],"mappings":"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","file":"UserRole-List.component.js","sourcesContent":["import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from \"@angular/core\";\r\nimport { UserRoleService } from \"../shared/userRole.service\";\r\nimport { UserRole } from \"../shared/userRole.model\";\r\nimport { Router } from \"@angular/router\";\r\nimport { AuthService } from \"../../auth.service\";\r\ndeclare var jQuery: any;\r\n\r\n@Component({\r\n    selector: \"userRoleList\",\r\n    template: `\r\n    <div class=\"error-message\" #errorDiv></div>\r\n    <div class=\"user-container\">\r\n        <h1 class=\"homeHeader\">{{title}}</h1>\r\n        <div class=\"col-right-s3 form-group\">\r\n            <input type=\"button\" class=\"btn btn-primary btn-block\" value=\"Add\" (click)=\"addNewUserRole()\" />\r\n        </div>\r\n        <div class=\"clearDiv\">\r\n        </div>\r\n        <div #actionDiv class=\"col-half-one-third leftPane\">\r\n            <div class=\"leftPaneContent form-group\">\r\n                <h2>Bulk Actions</h2>\r\n                <button class=\"btn btn-danger btn-block\" (click)=\"deleteConfirm()\" [disabled]=\"isLoading\">\r\n                    <div [class.cssload-container]=\"isLoading\">\r\n                        <div [class.cssload-zenith]=\"isLoading\"></div>\r\n                    </div>\r\n                    <div [class.cssload-text]=\"isLoading\">Delete</div>\r\n                </button>\r\n\r\n                <div class=\"dialog\" *ngIf=\"isDelete\">\r\n                    <h3>Are you sure to delete checked items ?</h3>\r\n                    <input type=\"button\" class=\"btn btn-danger btn-block\" value=\"Yes\" (click)=\"onDelete()\" />   <br />\r\n                    <input type=\"button\" class=\"btn btn-primary btn-block\" value=\"No\" (click)=\"close()\" />\r\n                </div>\r\n                <div *ngIf=\"isDelete\" class=\"overlay\" (click)=\"Close()\"></div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-half-two-third\">\r\n            <table class=\"table table-hover\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Select All<br /><input type=\"checkbox\" [checked]=\"toggle\" (change)=\"toggleAll()\" /></th>\r\n                        <th>Role Name</th>\r\n                        <th>Is Active</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let userRole of userRoles\" [class.selected]=\"userRole === selectedData\">\r\n                        <td><input type=\"checkbox\" #chkSelect value=\"{{userRole.Id}}\" [checked]=\"userRole.checked\" (change)=\"toggleItem(userRole)\" /></td>\r\n                        <td><a href=\"userrolelist/edit/{{userRole.Id}}\">{{userRole.Name}}</a></td>\r\n                        <td>{{userRole.IsActive}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div class=\"clearDiv\">\r\n        </div>\r\n    </div>\r\n`\r\n    ,\r\n    providers: [UserRoleService]\r\n})\r\n\r\nexport class UserRoleListComponent {\r\n    title = \"User Role List\";\r\n    selectedData: UserRole;\r\n    errorMessage: string;\r\n    toggle = false;\r\n    isDelete = false;\r\n    isLoading = false;\r\n\r\n    @ViewChild('actionDiv') actionDiv: ElementRef;\r\n    @ViewChild('errorDiv') errorDiv: ElementRef;\r\n    userRoles: UserRole[];\r\n\r\n\r\n    constructor(private userRoleService: UserRoleService, private router: Router, private authService: AuthService) { }\r\n\r\n\r\n    ngOnInit() {\r\n        if (!this.authService.isLoggedIn()) {\r\n            this.router.navigate([\"\"]);\r\n        }\r\n        this.userRoleService.getUserRoleList().subscribe(items => this.userRoles = items, error => this.errorMessage = <any>error);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        jQuery(this.actionDiv.nativeElement).hide();\r\n        jQuery(this.errorDiv.nativeElement).hide();\r\n    }\r\n\r\n    onSelect(data: UserRole) {\r\n        this.selectedData = data;\r\n        this.router.navigate([\"userrolelist/edit\", this.selectedData.Id]);\r\n    }\r\n\r\n    addNewUserRole() {\r\n        this.router.navigate([\"userrolelist/add\"]);\r\n    }\r\n\r\n    onDelete(data: UserRole) {\r\n        this.isDelete = false;\r\n        this.isLoading = true;\r\n\r\n        this.userRoles.filter(data => data.checked).forEach(selectedData =>\r\n            this.userRoleService.delete(selectedData.Id).subscribe((data) => {\r\n                if (data.error == null) {\r\n                    this.errorMessage = 'deleted selected data(s) successfully';\r\n                    setTimeout(() => {\r\n                        this.isLoading = false,\r\n                            jQuery(this.actionDiv.nativeElement).hide(1000),\r\n                            this.userRoleService.getUserRoleList().subscribe(items => this.userRoles = items, error => this.errorMessage = <any>error);\r\n                    }, 2000);\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    showActionDiv(status: boolean) {\r\n        var boxWidth = jQuery(this.actionDiv.nativeElement).width();\r\n        if (status)\r\n            jQuery(this.actionDiv.nativeElement).show({ direction: \"left\" }, 1000);\r\n        else\r\n            jQuery(this.actionDiv.nativeElement).hide(1000);\r\n    }\r\n\r\n    deleteConfirm() {\r\n        this.isDelete = true;\r\n    }\r\n\r\n    close() {\r\n        this.isDelete = false;\r\n    }\r\n\r\n    toggleItem(data) {\r\n        data.checked = !data.checked;\r\n        this.toggle = this.userRoles.every(data => data.checked);\r\n\r\n        this.showActionDiv(this.userRoles.filter(data => data.checked).length > 0);\r\n    }\r\n\r\n    toggleAll() {\r\n        this.toggle = !this.toggle;\r\n        this.userRoles.forEach(data => data.checked = this.toggle);\r\n        this.showActionDiv(this.userRoles.filter(data => data.checked).length > 0);\r\n    }\r\n\r\n    displayMessage(message: string, status: boolean) {\r\n        jQuery(this.errorDiv.nativeElement).removeClass();\r\n        this.errorDiv.nativeElement.innerHTML = message;\r\n\r\n        if (status) { jQuery(this.errorDiv.nativeElement).addClass(\"success-message\"); }\r\n        else { jQuery(this.errorDiv.nativeElement).addClass(\"error-message\"); }\r\n\r\n        jQuery(this.errorDiv.nativeElement).slideDown(1000).delay(6000).slideUp(1000);\r\n    }\r\n}"]}