{"version":3,"sources":["GraphicProductName/graphicproductname-list/graphicproductname-list.component.ts"],"names":["GraphicProductNameListComponent","graphicproductnameService","authService","fabcategoryService","router","fb","acctypeService","this","title","pagesizearr","isFormValuesChanged","prototype","ngOnInit","_this","isLoggedIn","navigate","paging","pagination_model_1","PaginationModel","searchModel","generalsearch_model_1","GeneralSearchModel","pageall","getAll","getGraphicProductNameList","subscribe","items","ACdata","error","errorMessage","getGraphicCategoryList","categories","Data","graphicproductnameAddForm","group","id","name","forms_1","Validators","required","isactive","acccategory","data","graphicproductname_model_1","GraphicProductName","itemid","changePage","i","Paging","PageNumber","changeSize","PageSize","onSubmit","apn","add","alert","jQuery","val","prop","modal","onAdd","onUpdate","console","log","update","onEdit","get","isFormChanged","value","Id","oldData","isFormDataChanged","JSON","stringify","__decorate","core_1","Component","selector","templateUrl","providers","graphicproductname_service_1","GraphicProductNameService","FormBuilder","graphiccategory_service_1","GraphicCategoryService","exports_1"],"mappings":"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","file":"graphicproductname-list.component.js","sourcesContent":["import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from \"@angular/core\";\nimport { FormBuilder, FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport { GraphicProductNameService } from \"../shared/graphicproductname.service\";\nimport { GraphicProductName } from \"../shared/graphicproductname.model\";\nimport { GraphicCategory} from \"../../GraphicCategory/shared/graphiccategory.model\";\nimport { GraphicCategoryService} from \"../../GraphicCategory/shared/graphiccategory.service\";\nimport { PaginationModel } from \"../../Pagination/shared/pagination.model\";\nimport { GeneralSearchModel } from \"../../Pagination/shared/generalsearch.model\";\nimport { GraphicProductNameListModel } from \"../shared/graphicproductname-list.model\";\nimport { Router } from \"@angular/router\";\nimport { AuthService } from \"../../auth.service\";\nimport { SearchGeneralFilter } from \"../../SearchGeneralFilter/shared/searchGeneralFilter.model\";\ndeclare var jQuery: any;\n\n@Component({\n    selector: 'graphicproductname',\n    templateUrl: 'app/GraphicProductName/graphicproductname-list/graphicproductname-list.component.html',\n    providers: [ GraphicProductNameService, FormBuilder, GraphicCategoryService]\n})\n\nexport class GraphicProductNameListComponent {\n    data: GraphicProductName;\n    title = \"Wash Product Name\";\n    selectedData: GraphicProductName;\n    errorMessage: string;\n    searchModel: GeneralSearchModel;\n    paging: PaginationModel;\n    graphicproductnameAddForm: FormGroup;\n    graphiccategories: GraphicProductName[];\n    ACdata: GraphicProductNameListModel;\n    pagesizearr: number[] = [10, 20, 30, 0];\n    types: GraphicProductName[];\n    itemid: string;\n    isFormValuesChanged = false;\n    graphicproductnameEditForm: FormGroup;\n    categories: GraphicCategory[];\n    constructor(private graphicproductnameService: GraphicProductNameService,\n        private authService: AuthService,\n        private fabcategoryService:GraphicCategoryService,\n        private router: Router,\n        private fb: FormBuilder,\n        private acctypeService: GraphicProductNameService\n    ) {\n    }\n\n    ngOnInit() {\n        if (!this.authService.isLoggedIn()) {\n            this.router.navigate([\"\"]);\n        }\n        this.paging = new PaginationModel(10, 1, \"Name\", 0, [], 0);\n        this.searchModel = new GeneralSearchModel(\"\", \"\", \"\", \"\", this.paging);\n\n        var pageall = new PaginationModel(10, 0, \"Name\", 0, [], 0);\n        var getAll = new GeneralSearchModel(\"\", \"\", \"\", \"\", pageall);\n        this.graphicproductnameService.getGraphicProductNameList(this.searchModel).subscribe(items => this.ACdata = items, error => this.errorMessage = <any>error);\n        this.fabcategoryService.getGraphicCategoryList(getAll).subscribe(items => this.categories = items.Data, error => this.errorMessage = <any>error);\n        this.graphicproductnameAddForm = this.fb.group(\n            {\n                id: [\"\"],\n                name: [\"\", [Validators.required]],\n                isactive: [true],\n                acccategory:[\"\",[Validators.required]]\n            }\n        );   \n        this.data = new GraphicProductName(\"\",false, \"\",\"\");\n        this.itemid = \"\";\n    }\n    changePage(i: number) {\n        this.searchModel.Paging.PageNumber = i;\n        this.graphicproductnameService.getGraphicProductNameList(this.searchModel).subscribe(items => this.ACdata = items, error => this.errorMessage = <any>error);\n    }\n\n    changeSize(i: number) {\n        if (i == 0) {\n            this.searchModel.Paging.PageNumber = 0;\n        } else {\n            this.searchModel.Paging.PageSize = i;\n            this.searchModel.Paging.PageNumber = 1;\n        }\n\n        this.graphicproductnameService.getGraphicProductNameList(this.searchModel).subscribe(items => this.ACdata = items, error => this.errorMessage = <any>error);\n    }\n   \n    onSubmit(data: any) {\n        var apn = new GraphicProductName(\"\", data.isactive, data.name, data.acccategory);\n        this.graphicproductnameService.add(apn).subscribe((data) => {\n            if (data.error == null) {\n\n\n                this.graphicproductnameService.getGraphicProductNameList(this.searchModel).subscribe(items => this.ACdata = items, error => this.errorMessage = <any>error);\n                alert(\"added successfully\");\n                this.data = new GraphicProductName(\"\", false, \"\",\"\");\n                jQuery('#txtName').val('');\n                jQuery('#drType').val('');\n                jQuery('#ckIsActive').prop('checked', true);\n            } else {\n                // update failure\n                this.errorMessage = data.error;\n                alert(this.errorMessage);\n            }\n        },\n            (error) => {\n                this.errorMessage = error;\n                alert(this.errorMessage);\n            }\n        );\n        jQuery('#myModalAdd').modal('hide');\n\n\n\n    }\n    onAdd() {\n        jQuery('#txtName').val('');\n        jQuery('#drType').val('');\n        jQuery('#ckIsActive').prop('checked', true);\n    }\n    onUpdate(data: any) {\n        // else, update it\n        // var graphicproductname = new GraphicProductName(data.id, null, null, data.isactive, data.name, false, data.buyercode, data.acctype);\n        console.log(data);\n        this.graphicproductnameService.update(data).subscribe((data) => {\n            if (data.error == null) {\n                this.data = data;\n                this.graphicproductnameService.getGraphicProductNameList(this.searchModel).subscribe(items => this.ACdata = items, error => this.errorMessage = <any>error);\n                alert(\"updated successfully\");\n                jQuery('#myModalEdit').modal('hide');\n                this.itemid == \"\";\n            }\n            else {\n                // update failure\n                this.errorMessage = data.error;\n                alert(this.errorMessage);\n            }\n        },\n            (error) => {\n                this.errorMessage = error;\n                alert(this.errorMessage);\n            }\n        );\n    }\n    onEdit(id: string) {\n        this.itemid = id;\n        if (id !== \"\") {\n            this.graphicproductnameService.get(id).subscribe((data) => {\n                this.data = data;\n            });\n        }\n    }\n    isFormChanged(value) {\n        this.graphicproductnameService.get(this.data.Id).subscribe((oldData) => {\n            this.isFormDataChanged(oldData);\n        });\n    }\n\n    isFormDataChanged(oldData: GraphicProductName) {\n        if (JSON.stringify(this.data) === JSON.stringify(oldData))\n            this.isFormValuesChanged = false;\n        else\n            this.isFormValuesChanged = true;\n    }\n}"]}