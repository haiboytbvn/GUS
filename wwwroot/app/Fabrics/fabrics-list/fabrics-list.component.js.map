{"version":3,"sources":["Fabrics/fabrics-list/fabrics-list.component.ts"],"names":["FabricsListComponent","fabricsService","authService","router","activatedRoute","this","toggle","isDelete","isLoading","pagesizearr","prototype","ngOnInit","_this","isLoggedIn","navigate","typeid","snapshot","params","cateid","productnameid","title","paging","pagination_model_1","PaginationModel","searchModel","fabrics_search_model_1","FabricsSearchModel","getFabricsList","subscribe","items","ACdata","error","errorMessage","Dropdowndata","onSelect","data","selectedData","Id","onEdit","id","onAdd","onsearchSubmit","keyword","code","buyercode","changePage","i","Paging","PageNumber","changeSize","PageSize","__decorate","core_1","Component","selector","templateUrl","providers","fabric_service_1","FabricsService","exports_1"],"mappings":"s1CAiBAA,qBAAA,WAYI,QAAAA,sBAAoBC,eAAwCC,YAAkCC,OAAwBC,gBAAlGC,KAAAJ,eAAAA,eAAwCI,KAAAH,YAAAA,YAAkCG,KAAAF,OAAAA,OAAwBE,KAAAD,eAAAA,eARtHC,KAAAC,QAAS,EACTD,KAAAE,UAAW,EACXF,KAAAG,WAAY,EAGZH,KAAAI,aAAyB,GAAI,GAAI,GAAI,GAuDzC,MAjDIT,sBAAAU,UAAAC,SAAA,WAAA,GAAAC,OAAAP,IACSA,MAAKH,YAAYW,cAClBR,KAAKF,OAAOW,UAAU,IAG1B,IAAIC,QAASV,KAAKD,eAAeY,SAASC,OAAe,OACrDC,OAASb,KAAKD,eAAeY,SAASC,OAAe,OACrDE,cAAgBd,KAAKD,eAAeY,SAASC,OAAsB,aAEvEZ,MAAKe,MAAQ,eACbf,KAAKgB,OAAS,GAAIC,oBAAAC,gBAAgB,GAAI,EAAG,OAAQ,KAAO,GACxDlB,KAAKmB,YAAc,GAAIC,wBAAAC,mBAAmB,GAAI,GAAI,GAAI,GAAIrB,KAAKgB,OAAQN,OAAQG,OAAQC,eACvFd,KAAKJ,eAAe0B,eAAetB,KAAKmB,aAAaI,UAAU,SAAAC,OAAS,MAAAjB,OAAKkB,OAASD,OAAO,SAAAE,OAAS,MAAAnB,OAAKoB,aAAoBD,QAC/H1B,KAAKJ,eAAe0B,eAAetB,KAAKmB,aAAaI,UAAU,SAAAC,OAAS,MAAAjB,OAAKqB,aAAeJ,OAAO,SAAAE,OAAS,MAAAnB,OAAKoB,aAAoBD,SAIzI/B,qBAAAU,UAAAwB,SAAA,SAASC,MACL9B,KAAK+B,aAAeD,KACpB9B,KAAKF,OAAOW,UAAU,eAAgBT,KAAK+B,aAAaC,MAE5DrC,qBAAAU,UAAA4B,OAAA,SAAOC,IACHlC,KAAKF,OAAOW,UAAU,eAAgByB,MAG1CvC,qBAAAU,UAAA8B,MAAA,WACInC,KAAKF,OAAOW,UAAU,iBAE1Bd,qBAAAU,UAAA+B,eAAA,SAAeN,MAAf,GAAAvB,OAAAP,IACIA,MAAKgB,OAAS,GAAIC,oBAAAC,gBAAgB,GAAI,EAAG,OAAQ,KAAO,GACxDlB,KAAKmB,YAAc,GAAIC,wBAAAC,mBAAmBS,KAAKO,QAASP,KAAKQ,KAAMR,KAAKS,UAAW,GAAIvC,KAAKgB,OAAQ,GAAI,GAAI,IAC5GhB,KAAKJ,eAAe0B,eAAetB,KAAKmB,aAAaI,UAAU,SAAAC,OAAS,MAAAjB,OAAKkB,OAASD,OAAO,SAAAE,OAAS,MAAAnB,OAAKoB,aAAoBD,SAEnI/B,qBAAAU,UAAAmC,WAAA,SAAWC,GAAX,GAAAlC,OAAAP,IACIA,MAAKmB,YAAYuB,OAAOC,WAAaF,EACrCzC,KAAKJ,eAAe0B,eAAetB,KAAKmB,aAAaI,UAAU,SAAAC,OAAS,MAAAjB,OAAKkB,OAASD,OAAO,SAAAE,OAAS,MAAAnB,OAAKoB,aAAoBD,SAGnI/B,qBAAAU,UAAAuC,WAAA,SAAWH,GAAX,GAAAlC,OAAAP,IACa,IAALyC,EACAzC,KAAKmB,YAAYuB,OAAOC,WAAa,GAErC3C,KAAKmB,YAAYuB,OAAOG,SAAWJ,EACnCzC,KAAKmB,YAAYuB,OAAOC,WAAa,GAGzC3C,KAAKJ,eAAe0B,eAAetB,KAAKmB,aAAaI,UAAU,SAAAC,OAAS,MAAAjB,OAAKkB,OAASD,OAAO,SAAAE,OAAS,MAAAnB,OAAKoB,aAAoBD,SAnEvI/B,qBAAAmD,YAACC,OAAAC,WACGC,SAAU,UACVC,YAAa,uDACbC,WAAYC,iBAAAC,iLAGhBC,UAAA,uBAAA3D","file":"fabrics-list.component.js","sourcesContent":["import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { FabricsService } from \"../shared/fabric.service\";\r\nimport { Fabrics } from \"../shared/fabric.model\";\r\nimport { FabricListModel } from \"../shared/fabric-list.model\";\r\nimport { AuthService } from \"../../auth.service\";\r\nimport { FabricsSearchModel } from \"../../Fabrics/shared/fabrics-search.model\";\r\nimport { PaginationModel } from \"../../Pagination/shared/pagination.model\";\r\nimport { GeneralSearchModel } from \"../../Pagination/shared/generalsearch.model\";\r\ndeclare var jQuery: any;\r\n\r\n@Component({\r\n    selector: 'fabrics',\r\n    templateUrl: 'app/Fabrics/fabrics-list/fabrics-list.component.html',\r\n    providers: [FabricsService]\r\n})\r\n\r\nexport class FabricsListComponent {\r\n    title: \"Fabrics List\";\r\n    selectedData: Fabrics;\r\n    errorMessage: string;\r\n    toggle = false;\r\n    isDelete = false;\r\n    isLoading = false;\r\n    paging: PaginationModel;\r\n    ACdata: FabricListModel;\r\n    pagesizearr: number[] = [10, 20, 30, 0];\r\n    searchModel: FabricsSearchModel;\r\n    Dropdowndata: FabricListModel;\r\n    constructor(private fabricsService: FabricsService, private authService: AuthService, private router: Router, private activatedRoute: ActivatedRoute) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        if (!this.authService.isLoggedIn()) {\r\n            this.router.navigate([\"\"]);\r\n        }\r\n\r\n        var typeid = this.activatedRoute.snapshot.params[\"typeid\"];\n        var cateid = this.activatedRoute.snapshot.params[\"cateid\"];\r\n        var productnameid = this.activatedRoute.snapshot.params[\"productnameid\"];\r\n\r\n        this.title = \"Fabrics List\";\r\n        this.paging = new PaginationModel(10, 1, \"Name\", 0, [], 0);\r\n        this.searchModel = new FabricsSearchModel(\"\", \"\", \"\", \"\", this.paging, typeid, cateid, productnameid);\r\n        this.fabricsService.getFabricsList(this.searchModel).subscribe(items => this.ACdata = items, error => this.errorMessage = <any>error);\r\n        this.fabricsService.getFabricsList(this.searchModel).subscribe(items => this.Dropdowndata = items, error => this.errorMessage = <any>error);\r\n    }\r\n\r\n\r\n    onSelect(data: Fabrics) {\r\n        this.selectedData = data;\r\n        this.router.navigate([\"fabrics/edit\", this.selectedData.Id]);\r\n    }\r\n    onEdit(id: string) {\r\n        this.router.navigate([\"fabrics/edit\", id]);\r\n    }\r\n\r\n    onAdd() {\r\n        this.router.navigate([\"fabrics/add\"]);\r\n    }\r\n    onsearchSubmit(data: any) {\r\n        this.paging = new PaginationModel(10, 1, \"Name\", 0, [], 0);\r\n        this.searchModel = new FabricsSearchModel(data.keyword, data.code, data.buyercode, \"\", this.paging, \"\", \"\", \"\");\r\n        this.fabricsService.getFabricsList(this.searchModel).subscribe(items => this.ACdata = items, error => this.errorMessage = <any>error);\r\n    }\r\n    changePage(i: number) {\r\n        this.searchModel.Paging.PageNumber = i;\r\n        this.fabricsService.getFabricsList(this.searchModel).subscribe(items => this.ACdata = items, error => this.errorMessage = <any>error);\r\n    }\r\n\r\n    changeSize(i: number) {\r\n        if (i == 0) {\r\n            this.searchModel.Paging.PageNumber = 0;\r\n        } else {\r\n            this.searchModel.Paging.PageSize = i;\r\n            this.searchModel.Paging.PageNumber = 1;\r\n        }\r\n\r\n        this.fabricsService.getFabricsList(this.searchModel).subscribe(items => this.ACdata = items, error => this.errorMessage = <any>error);\r\n    }\r\n\r\n}"]}